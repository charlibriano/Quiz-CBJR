<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz Charlie Brown Jr</title>
  <style>
    @font-face {
      font-family: 'Elektrix';
      src: url('https://raw.githubusercontent.com/charlibriano/Quiz-CBJR/main/Elektrix%20Bold.ttf') format('truetype');
      font-weight: bold;
    }body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background-color: black;
  background-image: url('fundo-cbjr.jpg');
  background-repeat: no-repeat;
  background-position: center center;
  background-size: contain;
  background-attachment: fixed;
  color: white;
  text-align: center;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
}

header {
  margin: 30px 0 10px;
}

header h1 {
  font-family: 'Elektrix', sans-serif;
  font-size: 3em;
  color: #f1c40f;
  text-shadow: 2px 2px 5px black;
}

.container {
  max-width: 900px;
  width: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  padding: 40px;
  border-radius: 16px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
  margin-bottom: 40px;
}

#player-controls {
  align-self: flex-start;
  margin: 20px;
}

.question {
  margin: 20px 0;
}

.question h3 {
  margin-bottom: 20px;
}

.question button {
  margin: 10px;
  padding: 10px 20px;
  font-size: 1em;
  cursor: pointer;
  border-radius: 10px;
  border: none;
  background-color: #f1c40f;
  color: black;
  transition: background-color 0.3s, color 0.3s;
  width: 40%;
}

#score, #medal {
  margin-top: 20px;
  font-size: 1.3em;
}

.answers-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}

canvas {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100px;
  z-index: -1;
}

  </style>
</head>
<body>
  <header>
    <h1>Quiz: <br> Charlie Brown Jr</h1>
  </header>  <div id="player-controls">
    <button onclick="prevSong()">⏮️ Anterior</button>
    <button onclick="togglePlay()">▶️/⏸️</button>
    <button onclick="nextSong()">⏭️ Próxima</button>
    <p id="current-song"></p>
  </div>  <div class="container">
    <div id="quiz"></div>
    <p id="score"></p>
    <p id="medal"></p>
    <button id="restart-btn" onclick="restartQuiz()" style="display:none; padding: 10px 20px; margin-top: 20px; background-color: #f1c40f; color: black; cursor: pointer;">Reiniciar Quiz</button>
  </div><audio id="audio" controls style="display:none"></audio> <canvas id="visualizer"></canvas>

  <script>
    const audio = document.getElementById('audio');
    const currentSongText = document.getElementById('current-song');
    let playlist = [
      { title: "Zóio de Lula", url: "https://example.com/musicas/zoio.mp3" },
      { title: "Só os Loucos Sabem", url: "https://example.com/musicas/loucos.mp3" },
      { title: "Proibida pra Mim", url: "https://example.com/musicas/proibida.mp3" }
    ];
    let currentIndex = 0;
    let isPlaying = false;
    let audioStarted = false;

    function loadSong() {
      const song = playlist[currentIndex];
      audio.src = song.url;
      currentSongText.textContent = `Tocando agora: ${song.title}`;
      if (isPlaying) audio.play();
    }

    function togglePlay() {
      if (audio.paused) {
        audio.play();
        isPlaying = true;
      } else {
        audio.pause();
        isPlaying = false;
      }
    }

    function nextSong() {
      currentIndex = (currentIndex + 1) % playlist.length;
      loadSong();
    }

    function prevSong() {
      currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
      loadSong();
    }

    const canvas = document.getElementById('visualizer');
    const ctx = canvas.getContext('2d');
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const analyser = audioCtx.createAnalyser();
    const source = audioCtx.createMediaElementSource(audio);
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    analyser.fftSize = 256;

    const bufferLength = analyser.frequencyBinCount;
    const dataArray = new Uint8Array(bufferLength);

    function drawVisualizer() {
      requestAnimationFrame(drawVisualizer);
      analyser.getByteFrequencyData(dataArray);
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const barWidth = (canvas.width / bufferLength) * 2.5;
      let x = 0;
      for (let i = 0; i < bufferLength; i++) {
        const barHeight = dataArray[i];
        ctx.fillStyle = `hsl(${i * 3}, 100%, 50%)`;
        ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
        x += barWidth + 1;
      }
    }

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
    });
    canvas.width = window.innerWidth;

    drawVisualizer();

    const quiz = document.getElementById('quiz');
    const scoreText = document.getElementById('score');
    const medalText = document.getElementById('medal');
    const restartBtn = document.getElementById('restart-btn');

    const questions = [
      { pergunta: "Qual o nome do vocalista do Charlie Brown Jr.?", respostas: ["Chorão", "Champignon", "Marcão", "Renato Russo"], correta: "Chorão" },
      { pergunta: "Qual álbum tem a música 'Zóio de Lula'?", respostas: ["Nadando com os Tubarões", "Preço Curto... Prazo Longo", "Tamo Aí na Atividade", "Imunidade Musical"], correta: "Nadando com os Tubarões" },
      { pergunta: "Em que cidade surgiu a banda Charlie Brown Jr.?", respostas: ["São Paulo", "Rio de Janeiro", "Santos", "Curitiba"], correta: "Santos" },
      { pergunta: "Qual dessas músicas é um lado B do Charlie Brown Jr.?", respostas: ["Te Levar", "I Feel So Good Today", "Senhor do Tempo", "Zóio de Lula"], correta: "I Feel So Good Today" },
      { pergunta: "Qual cidade é berço do Charlie Brown Jr.?", respostas: ["São Paulo", "Santos", "Rio de Janeiro", "Campinas"], correta: "Santos" },
      { pergunta: "Quem era o baixista original da banda?", respostas: ["Chorão", "Marcão", "Champignon", "Heitor"], correta: "Champignon" },
      { pergunta: "Em que ano o álbum 'Nadando com os Tubarões' foi lançado?", respostas: ["2000", "2002", "1999", "2001"], correta: "2000" },
      { pergunta: "Qual dessas músicas é do álbum 'Tamo Aí na Atividade'?", respostas: ["Papo Reto", "Céu Azul", "Champanhe e Água Benta", "Hoje Eu Acordei Feliz"], correta: "Champanhe e Água Benta" },
      { pergunta: "Qual integrante da banda também era conhecido por tocar beatbox?", respostas: ["Thiago Castanho", "Marcão", "Champignon", "Chorão"], correta: "Champignon" },
      { pergunta: "Em que ano o álbum 'Transpiração Contínua Prolongada' foi lançado?", respostas: ["1997", "1995", "2000", "1998"], correta: "1997" },
      { pergunta: "Em que ano a banda Charlie Brown Jr. foi formada?", respostas: ["1990", "1992", "1994", "1996"], correta: "1992" },
      { pergunta: "Qual é o nome do primeiro álbum da banda?", respostas: ["Nadando com os Tubarões", "Transpiração Contínua Prolongada", "Tâmo Aí na Atividade", "Imunidade Musical"], correta: "Transpiração Contínua Prolongada" },
      { pergunta: "Qual música da banda tem a frase 'História nossas histórias'?", respostas: ["Só os Loucos Sabem", "Proibida Pra Mim", "Dias de Luta, Dias de Glória", "Lugar ao Sol"], correta: "Dias de Luta, Dias de Glória" },
      { pergunta: "Qual é o nome do álbum lançado em 2007?", respostas: ["Ritmo, Ritual e Responsa", "Nadando com os Tubarões", "Tâmo Aí na Atividade", "Imunidade Musical"], correta: "Ritmo, Ritual e Responsa" },
      { pergunta: "Qual música da banda tem a frase 'Eu vou roubar essa mulher pra mim'?", respostas: ["Proibida Pra Mim (Grazon)", "Dias de Luta, Dias de Glória", "Só os Loucos Sabem", "Lugar ao Sol"], correta: "Proibida Pra Mim (Grazon)" },
      { pergunta: "Qual álbum da banda foi lançado em 2003?", respostas: ["Tâmo Aí na Atividade", "Nadando com os Tubarões", "Acustico MTV", "Imunidade Musical"], correta: "Acustico MTV" },
      { pergunta: "Qual é o nome do baterista que tocou na banda até 2005?", respostas: ["Pinguim", "Japinha", "Marcão", "Pelado"], correta: "Pelado" },
      { pergunta: "Qual álbum da banda foi lançado em 2010?", respostas: ["Camisa 10 Joga Bola Até na Chuva", "Nadando com os Tubarões", "Tâmo Aí na Atividade", "Imunidade Musical"], correta: "Camisa 10 Joga Bola Até na Chuva" },
      { pergunta: "Qual música da banda tem a frase 'Eu descobri que é azul a cor da parede da casa de DEUS'?", respostas: ["Dias de Luta, Dias de Glória", "Só os Loucos Sabem", "Proibida Pra Mim", "Lugar ao Sol"], correta: "Lugar ao Sol" },
      { pergunta: "Qual música da banda tem a frase 'O livro que ela ama eu não li'?", respostas: ["Dias de Luta, Dias de Glória", "Só os Loucos Sabem", "Vícios e Virtudes", "Lugar ao Sol"], correta: "Vícios e Virtudes" }
    ];

    let score = 0;
    let currentQuestion = 0;

    function startAudio() {
      if (!audioStarted) {
        audioCtx.resume();
        audio.play();
        isPlaying = true;
        audioStarted = true;
      }
    }

    function showQuestion() {
      if (currentQuestion >= questions.length) {
        quiz.innerHTML = '';
        scoreText.textContent = `Pontuação final: ${score}/${questions.length}`;
        if (score === questions.length) {
          medalText.textContent = "\u{1F3C5} Medalha de Ouro! Você é fã raiz!";
        } else if (score >= questions.length / 2) {
          medalText.textContent = "\u{1F948} Medalha de Prata! Mandou bem!";
        } else {
          medalText.textContent = "\u{1F949} Medalha de Bronze! Pode ouvir mais Charlie Brown Jr!";
        }
        restartBtn.style.display = 'block';
        return;
      }

      const q = questions[currentQuestion];
      quiz.innerHTML = `<div class="question">
        <h3>${q.pergunta}</h3>
        <div class="answers-container">
          ${q.respostas.map(alt => `<button onclick="answer(this, '${alt}')">${alt}</button>`).join('')}
        </div>
      </div>`;
    }

    function answer(btn, resposta) {
      startAudio();
      const q = questions[currentQuestion];
      const buttons = document.querySelectorAll('.question button');
      buttons.forEach(b => b.disabled = true);
      if (resposta === q.correta) {
        btn.style.backgroundColor = 'green';
        btn.style.color = 'white';
        score++;
      } else {
        btn.style.backgroundColor = 'red';
        btn.style.color = 'white';
      }
      currentQuestion++;
      setTimeout(showQuestion, 1000);
    }

    function restartQuiz() {
      score = 0;
      currentQuestion = 0;
      shuffleQuestions();
      showQuestion();
      restartBtn.style.display = 'none';
    }

    function shuffleQuestions() {
      questions.sort(() => Math.random() - 0.5);
    }

    shuffleQuestions();
    showQuestion();
    loadSong();
  </script></body>
</html>